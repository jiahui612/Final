# 介绍书

## 1.项目设计部分：

### （1）项目总体构成：

本项目为资源共享平台，旨在为大众提供资料的平台与机会。本项目由mongodb+express+nodejs编写，主题为资源共享，由模块加载，用户界面，管理员界面，mongoose模型,路由，以及数据表组成。实现用户与管理员分区，用户可以查看共享资料，管理员可以进入后台管理，进行增删改学科类别/具体课程/发布内容/详细资料。

### （2）引入的包在项目中的作用相关说明；

"body-parser": "^1.19.0"：用于解析二进制与JSON文件,中间件/可从request中获取body数据。

"cookies": "^0.7.3"：用于浏览器中保存密码。

"express": "^4.17.2"：用于执行Nodejs与http之间的连接

 "markdown": "^0.5.0"：用于markdown文档编写

"mongoose": "^4.13.21"：用于数据库连接

"swig": "^1.4.2"：用于git版本管理,加载模板处理模块

### （3）项目目录结构和各个部分的说明。

#### a)doc:项目介绍md

#### b)models:mongoose模型

​		Category.js ：mongoose学科模型

​		Content.js : mongoose资料模型

​		User.js: mongoose用户模型

#### c)node_modules:引用模块自动生成，不做解释。

#### d)public 

- ##### css:style描述

​	main:mainIndex.css  --首页css

​	reset.css  --其他

- ##### images

​			main:backgroud.jpg背景图片

- ##### js

​			main:mainIndex.js - 用户首页

​			comLibrary.js - 时间

- ##### plug-in:外部框架

​		bootstrap-3.3.7 页面框架

​		FontAwesome   图标字体库和CSS框架

​		timeLock 时间框架

#### e)routers:路由

#####      admin.js - admin 模块//管理模块

- 分类管理
  - /category - 学科列表
  - /category/add - 学科添加
  - /category-edit - 学科修改
  - /category/delete - 学科删除
- 资料管理
  - /article - 资料列表
  - /article/add - 资料添加
  - /article/edit - 资料编辑
  - /article/delete - 资料删除

##### api.js - api 模块//接口路由

- /register - 用户注册
- /login - 用户登录

##### main.js - main模块

- /view - 内容页

##### users.js - 用户路由

#### f)schemas

- categories.js - 学科表结构
- contents.js - 资料表结构
- users.js - 用户表结构

#### g)views

##### admin - 后台管理

- adminIndex.html - 管理首页（进入后台首页）
- category_add.html - 添加学科页面
- category_edit.html - 学科修改编辑页面
- category_index.html - 学科列表首页
- content_add.html - 资料添加页面
- content_edit.html - 资料修改编辑页面
- content_index.html - 资料列表首页
- error.html - 添加失败提示
- layout.html - 后台整体框架
- success.html - 添加成功提示

##### main - 前台页面编辑

- layout.html - 前台登录，整体布局页面
- mainIndex.html - 点击阅读全文页面
- viewDetail.html - 评论页面

#### h)app.js：加载模块，连接数据库

## 2.使用说明书：

### (1)首页

![image-20211225232443943](image-20211225232443943.png)

## （2）用户注册

点击返回注册按钮，进行注册：

![image-20211225232652803](image-20211225232652803.png)

申请完，点击注册，弹出注册成功按钮

![image-20211225232755381](image-20211225232755381.png)

点击OK，返回登录界面

![image-20211225233037151](image-20211225233037151.png)

点击登录，查看文章

![image-20211225233208829](image-20211225233208829.png)

## （3）管理员登录

本平台人工设置管理员身份，即将数据库中的某用户isAdmin属性改为true,isSuperAdmin属性改为false。现数据库中默认账号：niuniu，密码：123456 为管理员。

![image-20211226000929608](image-20211226000929608.png)

## （4）后台管理

点击进入后台管理，进入后台管理首页

![image-20211226001024502](image-20211226001024502.png)

## （5）学科管理

#### a)添加学科

点击学科管理，然后下拉点击添加学科

![image-20211226001153227](image-20211226001153227.png)

填写学科名称

![image-20211226001500189](image-20211226001500189.png)

点击提交，显示成功界面

![image-20211226003037399](image-20211226003037399.png)

#### b)查看学科列表

点击返回列表或学科列表，可查看学科列表

![image-20211226003303753](image-20211226003303753.png)

点击上一页，或下一页，可进行翻页查看

![image-20211226003410024](image-20211226003410024.png)

#### c)修改学科

点击修改按钮，进入学科编辑页面，将“经济学”修改为“贸易学”

![image-20211226003742109](image-20211226003742109.png)

点击提交，反馈修改成功

![image-20211226003901269](image-20211226003901269.png)

点击返回列表，可核对

![image-20211226003949796](image-20211226003949796.png)

#### d)删除学科

点击删除按钮，显示删除成功

![image-20211226004110416](image-20211226004110416.png)

点击返回列表，“财政学“已删除

![image-20211226004245295](image-20211226004245295.png)

## （6）资料管理

#### a)添加资料

点击资料添加

![image-20211226004433312](image-20211226004433312.png)

进入资料添加

![image-20211226004734285](image-20211226004734285.png)

点击提交，可提示保存成功

![image-20211226010143275](image-20211226010143275.png)

#### b)查看资料列表

![image-20211226012810019](image-20211226012810019.png)

#### c)修改资料

点击修改按钮，进入编辑状态

![image-20211226011207389](image-20211226011207389.png)

点击修改提交按钮，显示成功

![image-20211226011331751](image-20211226011331751.png)

#### d)删除资料

点击删除按钮，显示删除成功

![image-20211226011509679](image-20211226011509679.png)

## （7）阅读资料

点击退出，返回前端页面

![image-20211226011634713](image-20211226011634713.png)

刷新请重新输入地址，不要直接按浏览器刷新按钮，进行普通用户登录

![image-20211226011748396](image-20211226011748396.png)

![image-20211226011816631](image-20211226011816631.png)

点击每份资料的阅读全文，可查看详细资料，阅读量会+1

![image-20211226012223303](image-20211226012223303.png)

但是未实现评论功能，也不能返回，请直接点击上面的板块查看。



## 3.开发日记（与commit对应）

  first commit ：完成基本数据库设计，页面功能跳转实现，区分普通用户与管理员身份。

second commit ：完成页面增删改功能，与本地数据库连接。

third commit：页面美化与修改，与服务器数据库连接，介绍书编写。

final commit：完善

## 4.参考:

bootstrap中文文档：https://v3.bootcss.com/

FontAwesome   图标字体库和CSS框架https://fontawesome.dashgame.com/